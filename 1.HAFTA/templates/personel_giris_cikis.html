{% extends "base.html" %}

{% block content %}
<div class="level">
    <div class="level-left">
        <h1 class="title">Personel Giriş-Çıkış Kayıtları</h1>
    </div>
    <div class="level-right">
        <div class="field">
            <div class="control">
                <input class="input" type="date">
            </div>
        </div>
    </div>
</div>

<div class="columns">
    <div class="column">
        <div class="field">
            <div class="control has-icons-left">
                <input class="input" type="text" placeholder="Personel Ara...">
                <span class="icon is-small is-left">
                    <i class="fas fa-search"></i>
                </span>
            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="field">
            <div class="control">
                <div class="select is-fullwidth">
                    <select>
                        <option>Tüm Personel</option>
                        <option>Ahmet Yılmaz</option>
                        <option>Ayşe Demir</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-content">
        <table class="table is-fullwidth">
            <thead>
                <tr>
                    <th>Personel</th>
                    <th>Giriş Zamanı</th>
                    <th>Çıkış Zamanı</th>
                    <th>Toplam Süre</th>
                    <th>Durum</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Ahmet Yılmaz</td>
                    <td>08:30</td>
                    <td>17:45</td>
                    <td>9 saat 15 dakika</td>
                    <td><span class="tag is-success">Tamamlandı</span></td>
                </tr>
                <tr>
                    <td>Ayşe Demir</td>
                    <td>09:00</td>
                    <td>-</td>
                    <td>-</td>
                    <td><span class="tag is-warning">Devam Ediyor</span></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="columns mt-4">
    <div class="column is-6">
        <div class="card">
            <div class="card-header">
                <p class="card-header-title">Günlük Özet</p>
            </div>
            <div class="card-content">
                <div class="content">
                    <p><strong>Toplam Personel:</strong> 25</p>
                    <p><strong>Giriş Yapan:</strong> 23</p>
                    <p><strong>Çıkış Yapan:</strong> 22</p>
                    <p><strong>Ortalama Çalışma Süresi:</strong> 8 saat 30 dakika</p>
                </div>
            </div>
        </div>
    </div>
    <div class="column is-6">
        <div class="card">
            <div class="card-header">
                <p class="card-header-title">Günlük Giriş-Çıkış Grafiği</p>
            </div>
            <div class="card-content">
                <canvas id="girisCikisChart"></canvas>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('girisCikisChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00'],
            datasets: [{
                label: 'Giriş',
                data: [5, 10, 15, 20, 22, 22, 22, 22, 22, 22, 22],
                borderColor: '#00d1b2',
                tension: 0.1
            }, {
                label: 'Çıkış',
                data: [0, 0, 0, 0, 2, 5, 8, 12, 15, 18, 20],
                borderColor: '#ff3860',
                tension: 0.1
            }]
        }
    });
</script>
{% endblock %}